"use strict";(self.webpackChunkprueba_tecnica=self.webpackChunkprueba_tecnica||[]).push([[677],{677:(Qe,mt,u)=>{u.r(mt),u.d(mt,{DashboardModule:()=>x});var w=u(6895),it=u(2019),n=u(1571);class Jt{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const $t={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const p=typeof window<"u"&&window||{};let F;function N(){return typeof p>"u"||(typeof p.__theme>"u"?(F||(F=function zt(){if(typeof document>"u")return null;const o=document.createElement("span");o.innerText="test bs version",document.body.appendChild(o),o.classList.add("d-none");const e=o.getBoundingClientRect();return document.body.removeChild(o),e&&0===e.top?"bs4":"bs3"}()),"bs3"===F):"bs4"!==p.__theme)}class bt{static reflow(e){}static getStyles(e){let t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=p),t.getComputedStyle(e)}}typeof console>"u"||console;var Gt=u(7579),Qt=u(6451),Kt=u(8421),Xt=u(9751),te=u(5577),ee=u(1144),S=u(576),oe=u(3268);const ne=["addListener","removeListener"],ie=["addEventListener","removeEventListener"],se=["on","off"];function K(o,e,t,i){if((0,S.m)(t)&&(i=t,t=void 0),i)return K(o,e,t).pipe((0,oe.Z)(i));const[s,r]=function ae(o){return(0,S.m)(o.addEventListener)&&(0,S.m)(o.removeEventListener)}(o)?ie.map(l=>a=>o[l](e,a,t)):function re(o){return(0,S.m)(o.addListener)&&(0,S.m)(o.removeListener)}(o)?ne.map(_t(o,e)):function le(o){return(0,S.m)(o.on)&&(0,S.m)(o.off)}(o)?se.map(_t(o,e)):[];if(!s&&(0,ee.z)(o))return(0,te.z)(l=>K(l,e,t))((0,Kt.Xf)(o));if(!s)throw new TypeError("Invalid event target");return new Xt.y(l=>{const a=(...c)=>l.next(1<c.length?c:c[0]);return s(a),()=>r(a)})}function _t(o,e){return t=>i=>o[t](e,i)}var ce=u(9646),de=u(4408),he=u(727);const B={schedule(o){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=B;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const s=e(r=>{t=void 0,o(r)});return new he.w0(()=>t?.(s))},requestAnimationFrame(...o){const{delegate:e}=B;return(e?.requestAnimationFrame||requestAnimationFrame)(...o)},cancelAnimationFrame(...o){const{delegate:e}=B;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...o)},delegate:void 0};var ue=u(640);const me=new class pe extends ue.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let s;e=e||i.shift();do{if(s=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,s){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw s}}}(class fe extends de.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=B.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var s;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:r}=e;null!=t&&(null===(s=r[r.length-1])||void 0===s?void 0:s.id)!==t&&(B.cancelAnimationFrame(t),e._scheduled=void 0)}});function M(o,e){if(1!==o.nodeType)return[];const i=o.ownerDocument.defaultView.getComputedStyle(o,null);return e?i[e]:i}function st(o){return"HTML"===o.nodeName?o:o.parentNode||o.host}function rt(o){if(!o)return document.body;switch(o.nodeName){case"HTML":case"BODY":return o.ownerDocument.body;case"#document":return o.body}const{overflow:e,overflowX:t,overflowY:i}=M(o);return/(auto|scroll|overlay)/.test(String(e)+String(i)+String(t))?o:rt(st(o))}const wt=typeof window<"u"&&typeof document<"u",Ct=wt&&!(!window.MSInputMethodContext||!document.documentMode),yt=wt&&!(!window.MSInputMethodContext||!/MSIE 10/.test(navigator.userAgent));function T(o){return 11===o?Ct:10===o?yt:Ct||yt}function lt(o){if(!o)return document.documentElement;const e=T(10)?document.body:null;let i,t=o.offsetParent||null;for(;t===e&&o.nextElementSibling&&i!==o.nextElementSibling;)i=o.nextElementSibling,t=i.offsetParent;const s=t&&t.nodeName;return s&&"BODY"!==s&&"HTML"!==s?-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===M(t,"position")?lt(t):t:i?i.ownerDocument.documentElement:document.documentElement}function at(o){return null!==o.parentNode?at(o.parentNode):o}function X(o,e){if(!(o&&o.nodeType&&e&&e.nodeType))return document.documentElement;const t=o.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=t?o:e,s=t?e:o,r=document.createRange();r.setStart(i,0),r.setEnd(s,0);const{commonAncestorContainer:l}=r;if(o!==l&&e!==l||i.contains(s))return function ge(o){const{nodeName:e}=o;return"BODY"!==e&&("HTML"===e||lt(o.firstElementChild)===o)}(l)?l:lt(l);const a=at(o);return a.host?X(a.host,e):X(o,at(e).host)}function St(o,e){const t="x"===e?"Left":"Top",i="Left"===t?"Right":"Bottom";return parseFloat(o[`border${t}Width`])+parseFloat(o[`border${i}Width`])}function Mt(o,e,t,i){return Math.max(e[`offset${o}`],e[`scroll${o}`],t[`client${o}`],t[`offset${o}`],t[`scroll${o}`],T(10)?parseInt(t[`offset${o}`],10)+parseInt(i["margin"+("Height"===o?"Top":"Left")],10)+parseInt(i["margin"+("Height"===o?"Bottom":"Right")],10):0)}function Rt(o){const e=o.body,t=o.documentElement,i=T(10)&&getComputedStyle(t);return{height:Mt("Height",e,t,i),width:Mt("Width",e,t,i)}}function O(o,e="top"){const t="top"===e?"scrollTop":"scrollLeft",i=o.nodeName;return"BODY"===i||"HTML"===i?(o.ownerDocument.scrollingElement||o.ownerDocument.documentElement)[t]:o[t]}function L(o){return Object.assign(Object.assign({},o),{right:o.left+o.width,bottom:o.top+o.height})}function Et(o){let e={};try{if(T(10)){e=o.getBoundingClientRect();const c=O(o,"top"),h=O(o,"left");e.top+=c,e.left+=h,e.bottom+=c,e.right+=h}else e=o.getBoundingClientRect()}catch{return}const t={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},i="HTML"===o.nodeName?Rt(o.ownerDocument):{};let l=o.offsetWidth-(i.width||o.clientWidth||t.right-t.left),a=o.offsetHeight-(i.height||o.clientHeight||t.bottom-t.top);if(l||a){const c=M(o);l-=St(c,"x"),a-=St(c,"y"),t.width-=l,t.height-=a}return L(t)}function ct(o,e,t=!1){const i=T(10),s="HTML"===e.nodeName,r=Et(o),l=Et(e),a=rt(o),c=M(e),h=parseFloat(c.borderTopWidth),d=parseFloat(c.borderLeftWidth);t&&s&&(l.top=Math.max(l.top,0),l.left=Math.max(l.left,0));let f=L({top:r.top-l.top-h,left:r.left-l.left-d,width:r.width,height:r.height});if(f.marginTop=0,f.marginLeft=0,!i&&s){const _=parseFloat(c.marginTop),b=parseFloat(c.marginLeft);f.top-=h-_,f.bottom-=h-_,f.left-=d-b,f.right-=d-b,f.marginTop=_,f.marginLeft=b}return(i&&!t?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(f=function be(o,e,t=!1){const i=O(e,"top"),s=O(e,"left"),r=t?-1:1;return o.top+=i*r,o.bottom+=i*r,o.left+=s*r,o.right+=s*r,o}(f,e)),f}function Tt(o){const e=o.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===M(o,"position")||Tt(st(o)))}function Ot(o){if(!o||!o.parentElement||T())return document.documentElement;let e=o.parentElement;for(;e&&"none"===M(e,"transform");)e=e.parentElement;return e||document.documentElement}function dt(o,e,t=0,i,s=!1){let r={top:0,left:0};const l=s?Ot(o):X(o,e);if("viewport"===i)r=function ve(o,e=!1){const t=o.ownerDocument.documentElement,i=ct(o,t),s=Math.max(t.clientWidth,window.innerWidth||0),r=Math.max(t.clientHeight,window.innerHeight||0),l=e?0:O(t),a=e?0:O(t,"left");return L({top:l-Number(i.top)+Number(i.marginTop),left:a-Number(i.left)+Number(i.marginLeft),width:s,height:r})}(l,s);else{let a;"scrollParent"===i?(a=rt(st(e)),"BODY"===a.nodeName&&(a=o.ownerDocument.documentElement)):a="window"===i?o.ownerDocument.documentElement:i;const c=ct(a,l,s);if("HTML"!==a.nodeName||Tt(l))r=c;else{const{height:h,width:d}=Rt(o.ownerDocument);r.top+=c.top-c.marginTop,r.bottom=Number(h)+Number(c.top),r.left+=c.left-c.marginLeft,r.right=Number(d)+Number(c.left)}}return r.left+=t,r.top+=t,r.right-=t,r.bottom-=t,r}function _e({width:o,height:e}){return o*e}function kt(o,e,t,i,s=["top","bottom","right","left"],r="viewport",l=0){if(-1===o.indexOf("auto"))return o;const a=dt(t,i,l,r),c={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},h=Object.keys(c).map(b=>Object.assign(Object.assign({key:b},c[b]),{area:_e(c[b])})).sort((b,C)=>C.area-b.area);let d=h.filter(({width:b,height:C})=>b>=t.clientWidth&&C>=t.clientHeight);d=d.filter(b=>s.some(C=>C===b.key));const f=d.length>0?d[0].key:h[0].key,_=o.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${f}`),f+(_?`-${_}`:"")}function At(o){const t=o.ownerDocument.defaultView.getComputedStyle(o),i=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),s=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:Number(o.offsetWidth)+s,height:Number(o.offsetHeight)+i}}function xt(o,e,t=null){return ct(e,t?Ot(o):X(o,e),t)}function ht(o,e,t){const i=t.split(" ")[0],s=At(o),r={width:s.width,height:s.height},l=-1!==["right","left"].indexOf(i),a=l?"top":"left",c=l?"left":"top",h=l?"height":"width",d=l?"width":"height";return r[a]=e[a]+e[h]/2-s[h]/2,r[c]=i===c?e[c]-s[d]:e[function Ce(o){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return o.replace(/left|right|bottom|top/g,t=>e[t])}(c)],r}function Dt(o,e){return o&&o.modifiers&&o.modifiers[e]&&o.modifiers[e].enabled}function Ft(o,e,t){Object.keys(e).forEach(i=>{let s="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&function Se(o){return""!==o&&!isNaN(parseFloat(o))&&isFinite(o)}(e[i])&&(s="px"),t?t.setStyle(o,i,`${String(e[i])}${s}`):o.style[i]=String(e[i])+s})}function Re(o){let e=o.offsets.target;const t=o.instance.target.querySelector(".arrow");if(!t)return o;const i=-1!==["left","right"].indexOf(o.placement.split(" ")[0]),s=i?"height":"width",r=i?"Top":"Left",l=r.toLowerCase(),a=i?"left":"top",c=i?"bottom":"right",h=At(t)[s],d=o.placement.split(" ")[1];o.offsets.host[c]-h<e[l]&&(e[l]-=e[l]-(o.offsets.host[c]-h)),Number(o.offsets.host[l])+Number(h)>e[c]&&(e[l]+=Number(o.offsets.host[l])+Number(h)-Number(e[c])),e=L(e);const f=M(o.instance.target),_=parseFloat(f[`margin${r}`]),b=parseFloat(f[`border${r}Width`]);let C;if(d){const nt=parseFloat(f.borderRadius),E=Number(_+b+nt);C=l===d?Number(o.offsets.host[l])+E:Number(o.offsets.host[l])+Number(o.offsets.host[s]-E)}else C=Number(o.offsets.host[l])+Number(o.offsets.host[s]/2-h/2);let D=C-e[l]-_-b;return D=Math.max(Math.min(e[s]-h,D),0),o.offsets.arrow={[l]:Math.round(D),[a]:""},o.instance.arrow=t,o}function Ee(o){if(o.offsets.target=L(o.offsets.target),!Dt(o.options,"flip"))return o.offsets.target=Object.assign(Object.assign({},o.offsets.target),ht(o.instance.target,o.offsets.host,o.placement)),o;const e=dt(o.instance.target,o.instance.host,0,"viewport",!1);let t=o.placement.split(" ")[0],i=o.placement.split(" ")[1]||"";const a=kt("auto",o.offsets.host,o.instance.target,o.instance.host,o.options.allowedPositions),c=[t,a];return c.forEach((h,d)=>{if(t!==h||c.length===d+1)return o;t=o.placement.split(" ")[0];const f="left"===t&&Math.floor(o.offsets.target.right)>Math.floor(o.offsets.host.left)||"right"===t&&Math.floor(o.offsets.target.left)<Math.floor(o.offsets.host.right)||"top"===t&&Math.floor(o.offsets.target.bottom)>Math.floor(o.offsets.host.top)||"bottom"===t&&Math.floor(o.offsets.target.top)<Math.floor(o.offsets.host.bottom),_=Math.floor(o.offsets.target.left)<Math.floor(e.left),b=Math.floor(o.offsets.target.right)>Math.floor(e.right),C=Math.floor(o.offsets.target.top)<Math.floor(e.top),D=Math.floor(o.offsets.target.bottom)>Math.floor(e.bottom),nt="left"===t&&_||"right"===t&&b||"top"===t&&C||"bottom"===t&&D,E=-1!==["top","bottom"].indexOf(t),Yt=E&&"left"===i&&_||E&&"right"===i&&b||!E&&"left"===i&&C||!E&&"right"===i&&D;(f||nt||Yt)&&((f||nt)&&(t=c[d+1]),Yt&&(i=function ye(o){return"right"===o?"left":"left"===o?"right":o}(i)),o.placement=t+(i?` ${i}`:""),o.offsets.target=Object.assign(Object.assign({},o.offsets.target),ht(o.instance.target,o.offsets.host,o.placement)))}),o}function Oe(o){if(!Dt(o.options,"preventOverflow"))return o;const e="transform",t=o.instance.target.style,{top:i,left:s,[e]:r}=t;t.top="",t.left="",t[e]="";const l=dt(o.instance.target,o.instance.host,0,"scrollParent",!1);t.top=i,t.left=s,t[e]=r;const c={primary(d){let f=o.offsets.target[d];return o.offsets.target[d]<l[d]&&(f=Math.max(o.offsets.target[d],l[d])),{[d]:f}},secondary(d){const f="right"===d?"left":"top";let _=o.offsets.target[f];return o.offsets.target[d]>l[d]&&(_=Math.min(o.offsets.target[f],l[d]-("right"===d?o.offsets.target.width:o.offsets.target.height))),{[f]:_}}};let h;return["left","right","top","bottom"].forEach(d=>{h=-1!==["left","top"].indexOf(d)?"primary":"secondary",o.offsets.target=Object.assign(Object.assign({},o.offsets.target),c[h](d))}),o}function ke(o){const e=o.placement,t=e.split(" ")[0],i=e.split(" ")[1];if(i){const{host:s,target:r}=o.offsets,l=-1!==["bottom","top"].indexOf(t),a=l?"left":"top",c=l?"width":"height",h={start:{[a]:s[a]},end:{[a]:s[a]+s[c]-r[c]}};o.offsets.target=Object.assign(Object.assign({},r),{[a]:a===i?h.start[a]:h.end[a]})}return o}const xe=new class Ae{position(e,t,i=!0){return this.offset(e,t,!1)}offset(e,t,i=!0){return xt(t,e)}positionElements(e,t,i,s,r){return[Ee,ke,Oe,Re].reduce((a,c)=>c(a),function Te(o,e,t,i){const s=xt(o,e);!t.match(/^(auto)*\s*(left|right|top|bottom)*$/)&&!t.match(/^(left|right|top|bottom)*(?: (left|right|top|bottom))?\s*(start|end)*$/)&&(t="auto");const r=!!t.match(/auto/g);let l=t.match(/auto\s(left|right|top|bottom)/)?t.split(" ")[1]||"auto":t;const a=l.match(/^(left|right|top|bottom)* ?(?!\1)(left|right|top|bottom)?/);a&&(l=a[1]+(a[2]?` ${a[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(l)&&(l="auto");const c=ht(o,s,l);return l=kt(l,s,o,e,i?i.allowedPositions:void 0),{options:i,instance:{target:o,host:e,arrow:null},offsets:{target:c,host:s,arrow:null},positionFixed:!1,placement:l,placementAuto:r}}(t,e,i,r))}};let ft=(()=>{class o{constructor(t,i,s){this.update$$=new Gt.x,this.positionElements=new Map,this.isDisabled=!1,(0,w.NF)(s)&&t.runOutsideAngular(()=>{this.triggerEvent$=(0,Qt.T)(K(window,"scroll",{passive:!0}),K(window,"resize",{passive:!0}),(0,ce.of)(0,me),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(r=>{!function De(o,e,t,i,s,r){const l=xe.positionElements(o,e,t,i,s),a=function we(o){return{width:o.offsets.target.width,height:o.offsets.target.height,left:Math.floor(o.offsets.target.left),top:Math.round(o.offsets.target.top),bottom:Math.round(o.offsets.target.bottom),right:Math.floor(o.offsets.target.right)}}(l);Ft(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},r),l.instance.arrow&&Ft(l.instance.arrow,l.offsets.arrow,r),function Me(o,e){const t=o.instance.target;let i=t.className;o.placementAuto&&(i=i.replace(/bs-popover-auto/g,`bs-popover-${o.placement}`),i=i.replace(/bs-tooltip-auto/g,`bs-tooltip-${o.placement}`),i=i.replace(/\sauto/g,` ${o.placement}`),-1!==i.indexOf("popover")&&-1===i.indexOf("popover-auto")&&(i+=" popover-auto"),-1!==i.indexOf("tooltip")&&-1===i.indexOf("tooltip-auto")&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom/g,`${o.placement.split(" ")[0]}`),e?e.setAttribute(t,"class",i):t.className=i}(l,r)}(tt(r.target),tt(r.element),r.attachment,r.appendToBody,this.options,i.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(tt(t.element),t)}calcPosition(){this.update$$.next()}deletePositionElement(t){this.positionElements.delete(tt(t))}setOptions(t){this.options=t}}return o.\u0275fac=function(t){return new(t||o)(n.LFG(n.R0b),n.LFG(n.FYo),n.LFG(n.Lbi))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac}),o})();function tt(o){return"string"==typeof o?document.querySelector(o):o instanceof n.SBq?o.nativeElement:o}class P{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}class Fe{constructor(e,t,i,s,r,l,a,c){this._viewContainerRef=e,this._renderer=t,this._elementRef=i,this._injector=s,this._componentFactoryResolver=r,this._ngZone=l,this._applicationRef=a,this._posService=c,this.onBeforeShow=new n.vpe,this.onShown=new n.vpe,this.onBeforeHide=new n.vpe,this.onHidden=new n.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=n.zs3.create({providers:this._providers,parent:this._injector});this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof n.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof document<"u"&&(document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector)).appendChild(this._componentRef.location.nativeElement),!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const t=this._componentRef.location.nativeElement;return t.parentNode.removeChild(t),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._contentRef=null,this._componentRef=null,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||this._elementRef.nativeElement;const t=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),i=this._listenOpts.show=r=>{e.show?e.show(r):this.show(r),r()};return this._unregisterListenersFn=function jt(o,e){const t=function gt(o,e=$t){const t=(o||"").trim();if(0===t.length)return[];const i=t.split(/\s+/).map(r=>r.split(":")).map(r=>{const l=e[r[0]]||r;return new Jt(l[0],l[1])}),s=i.filter(r=>r.isManual());if(s.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===s.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}(e.triggers),i=e.target;if(1===t.length&&t[0].isManual())return Function.prototype;const s=[],r=[],l=()=>{r.forEach(a=>s.push(a())),r.length=0};return t.forEach(a=>{const c=a.open===a.close,h=c?e.toggle:e.show;c||r.push(()=>o.listen(i,a.close,e.hide)),s.push(o.listen(i,a.open,()=>h(l)))}),()=>{s.forEach(a=>a())}}(this._renderer,{target:e.target,triggers:e.triggers,show:i,hide:t,toggle:r=>{this.isShown?t():i(r)}}),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=null)}attachInline(e,t){return this._inlineViewRef=e.createEmbeddedView(t),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{this._globalListener=function Vt(o,e){return e.outsideClick?o.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(i=>i.contains(t.target))||e.hide()}):Function.prototype}(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide()})})}this._listenOpts.outsideEsc&&(this._globalListener=function Wt(o,e){return e.outsideEsc?o.listen("document","keyup.esc",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(i=>i.contains(t.target))||e.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)}_getContentRef(e,t,i){if(!e)return new P([]);if(e instanceof n.Rgc){if(this._viewContainerRef){const r=this._viewContainerRef.createEmbeddedView(e,t);return r.markForCheck(),new P([r.rootNodes],r)}const s=e.createEmbeddedView({});return this._applicationRef.attachView(s),new P([s.rootNodes],s)}if("function"==typeof e){const s=this._componentFactoryResolver.resolveComponentFactory(e),r=n.zs3.create({providers:this._providers,parent:this._injector}),l=s.create(r);return Object.assign(l.instance,i),this._applicationRef.attachView(l.hostView),new P([[l.location.nativeElement]],l.hostView,l)}return new P([[this._renderer.createText(`${e}`)]])}}let et=(()=>{class o{constructor(t,i,s,r,l){this._componentFactoryResolver=t,this._ngZone=i,this._injector=s,this._posService=r,this._applicationRef=l}createLoader(t,i,s){return new Fe(i,s,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return o.\u0275fac=function(t){return new(t||o)(n.LFG(n._Vd),n.LFG(n.R0b),n.LFG(n.zs3),n.LFG(ft),n.LFG(n.z2F))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac}),o})();const Ne=["*"];let H=(()=>{class o{constructor(){this.hide=Function,this.setClass=Function}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac}),o})(),Nt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac}),o})();const I={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{}},Bt=new n.OlP("override-default-config");let Be=(()=>{class o{constructor(t,i,s){this._element=i,this._renderer=s,this.isShown=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,N()?"in":"show")},this.isAnimated?150:0),document&&document.body&&(1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,"modal-open")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){this.isShown&&((27===t.keyCode||"Escape"===t.key)&&t.preventDefault(),this.config.keyboard&&this.level===this.bsModalService.getModalsCount()&&(this.bsModalService.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this.hide()}hide(){this.isModalHiding||!this.isShown||(this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,N()?"in":"show"),setTimeout(()=>{this.isShown=!1,document&&document.body&&1===this.bsModalService.getModalsCount()&&this._renderer.removeClass(document.body,"modal-open"),this.bsModalService.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0))}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(Nt),n.Y36(n.SBq),n.Y36(n.Qsj))},o.\u0275cmp=n.Xpm({type:o,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,i){1&t&&n.NdJ("mousedown",function(r){return i.onClickStarted(r)})("mouseup",function(r){return i.onClickStop(r)})("popstate",function(){return i.onPopState()},!1,n.Jf7)("keydown.esc",function(r){return i.onEsc(r)},!1,n.Jf7),2&t&&n.uIk("aria-modal",!0)("aria-labelledby",i.config.ariaLabelledBy)("aria-describedby",i.config.ariaDescribedby)},ngContentSelectors:Ne,decls:3,vars:2,consts:[["role","document"],[1,"modal-content"]],template:function(t,i){1&t&&(n.F$t(),n.TgZ(0,"div",0)(1,"div",1),n.Hsn(2),n.qZA()()),2&t&&n.Tol("modal-dialog"+(i.config.class?" "+i.config.class:""))},encapsulation:2}),o})(),Lt=(()=>{class o{constructor(t,i){this._isShown=!1,this.element=t,this.renderer=i}get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),N()||(t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),bt.reflow(this.element.nativeElement)),this.isShown=!0}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(n.SBq),n.Y36(n.Qsj))},o.\u0275cmp=n.Xpm({type:o,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,i){},encapsulation:2}),o})(),U=(()=>{class o{constructor(t,i,s){this.clf=i,this.modalDefaultOption=s,this.onShow=new n.vpe,this.onShown=new n.vpe,this.onHide=new n.vpe,this.onHidden=new n.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.lastDismissReason=null,this.loaders=[],this._backdropLoader=this.clf.createLoader(null,null,null),this._renderer=t.createRenderer(null,null),this.config=s?Object.assign({},I,s):I}show(t,i){this.modalsCount++,this._createLoaders();const s=i?.id||(new Date).getUTCMilliseconds();return this.config=this.modalDefaultOption?Object.assign({},I,this.modalDefaultOption,i):Object.assign({},I,i),this.config.id=s,this._showBackdrop(),this.lastDismissReason=null,this._showModal(t)}hide(t){(1===this.modalsCount||null==t)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0)}_showBackdrop(){const t=this.config.backdrop||"static"===this.config.backdrop,i=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&i&&(this._backdropLoader.attach(Lt).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){var i;const s=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const a of this.config.providers)s.provide(a);const r=new H,l=s.provide({provide:Nt,useValue:this.config}).provide({provide:H,useValue:r}).attach(Be).to("body");return r.hide=()=>l.instance.hide(),r.setClass=a=>{l.instance.config.class=a},r.onHidden=new n.vpe,r.onHide=new n.vpe,this.copyEvent(s.onBeforeHide,r.onHide),this.copyEvent(s.onHidden,r.onHidden),l.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),l.instance.level=this.getModalsCount(),r.content=s.getInnerComponent()||null,r.id=null===(i=l.instance.config)||void 0===i?void 0:i.id,r}_hideModal(t){if(null!=t){const i=this.loaders.findIndex(r=>r.instance.config.id===t),s=this.loaders[i];s&&s.hide(t)}else this.loaders.forEach(i=>{i.hide(i.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(document.body,"modal-open"),this._backdropLoader.hide(),this.backdropRef=null}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);const i=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),i}_createLoaders(){const t=this.clf.createLoader(null,null,null);this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const i=this.loaders.findIndex(s=>s.instance.config.id===t);i>=0&&(this.loaders.splice(i,1),this.loaders.forEach((s,r)=>{s.instance.level=r+1}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,i){t.subscribe(s=>{i.emit(this.lastDismissReason||s)})}}return o.\u0275fac=function(t){return new(t||o)(n.LFG(n.FYo),n.LFG(et),n.LFG(Bt,8))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac}),o})(),Le=(()=>{class o{static forRoot(){return{ngModule:o,providers:[U,et,ft]}}static forChild(){return{ngModule:o,providers:[U,et,ft]}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({}),o})();var m=u(433),Pe=u(529);class y{constructor(e){this.http=e,this.url="https://prueba-tecnica-idecide.azurewebsites.net/api"}getApi(e){return this.http.get(this.url+"/"+e)}postApi(e,t){return this.http.post(this.url+"/"+e,{...t})}putApi(e,t,i){return this.http.put(this.url+"/"+e+"/"+t,{...i})}deleteApi(e,t){return this.http.delete(this.url+"/"+e+"/"+t)}}y.\u0275fac=function(e){return new(e||y)(n.LFG(Pe.eN))},y.\u0275prov=n.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"});var ut=u(1740);function He(o,e){if(1&o){const t=n.EpF();n.TgZ(0,"button",11),n.NdJ("click",function(){n.CHM(t);const s=n.oxw();return n.KtG(s.handleDelete())}),n._uU(1,"Eliminar"),n.qZA()}}class Y{constructor(e,t,i){this.bsModalRef=e,this.fb=t,this.service=i,this.categoriesList=[],this.collection="categorias"}ngOnInit(){this.initForm(),this.loadData()}initForm(){this.formComponent=this.fb.group({nombre:this.fb.control(null)})}loadData(){"editar"===this.title&&this.formComponent.patchValue({nombre:this.data.nombre})}handlePost(e){this.service.postApi(this.collection,e).subscribe({next:t=>{console.log("caso exitoso",t),this.bsModalRef.hide()},error:t=>{console.log("algo fallo",t)}})}handlePut(e){this.service.putApi(this.collection,this.data._id,e).subscribe({next:t=>{console.log("caso exitoso",t),this.bsModalRef.hide()},error:t=>{console.log("caso fallido",t)}})}handleDelete(){this.service.deleteApi(this.collection,this.data._id).subscribe({next:e=>{console.log("caso exitoso",e),this.bsModalRef.hide()},error:e=>{console.log("caso fallido",e)}})}sendForm(){console.log(this.formComponent.getRawValue());const e={...this.formComponent.getRawValue()};console.log(e),this.data?this.handlePut(e):this.handlePost(e)}}Y.\u0275fac=function(e){return new(e||Y)(n.Y36(H),n.Y36(m.qu),n.Y36(y))},Y.\u0275cmp=n.Xpm({type:Y,selectors:[["app-modal-categories"]],decls:15,vars:6,consts:[[2,"background-color","var(--surface-a)","color","var(--text-color)"],[1,"modal-header",2,"border-bottom","none"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",2,"color","aliceblue !important",3,"click"],["aria-hidden","true",1,"visually-hidden",2,"color","aliceblue !important"],[1,"modal-body"],[2,"display","flex","flex-direction","column","gap","15px",3,"formGroup"],["type","text","formControlName","nombre","pInputText","","placeholder","Nombre"],[1,"modal-footer",2,"border-top","none"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),n._uU(3),n.ALo(4,"titlecase"),n.qZA(),n.TgZ(5,"button",3),n.NdJ("click",function(){return t.bsModalRef.hide()}),n.TgZ(6,"span",4),n._uU(7,"\xd7"),n.qZA()()(),n.TgZ(8,"div",5)(9,"form",6),n._UZ(10,"input",7),n.qZA()(),n.TgZ(11,"div",8),n.YNc(12,He,2,0,"button",9),n.TgZ(13,"button",10),n.NdJ("click",function(){return t.sendForm()}),n._uU(14),n.qZA()()()),2&e&&(n.xp6(3),n.Oqu(n.lcZ(4,4,t.title)),n.xp6(6),n.Q6J("formGroup",t.formComponent),n.xp6(3),n.Q6J("ngIf","editar"===t.title),n.xp6(2),n.Oqu("editar"===t.title?"Actualizar":"Crear"))},dependencies:[w.O5,ut.o,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,w.rS]});var Ie=u(805),It=u(47);function Ze(o,e){if(1&o&&(n.TgZ(0,"th"),n._uU(1),n.qZA()),2&o){const t=e.$implicit;n.xp6(1),n.hij(" ",t.header," ")}}function Ue(o,e){if(1&o&&(n.TgZ(0,"tr"),n.YNc(1,Ze,2,1,"th",3),n.qZA()),2&o){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.cols)}}function Ye(o,e){if(1&o&&(n.TgZ(0,"td"),n._uU(1),n.qZA()),2&o){const t=e.$implicit,i=n.oxw().$implicit;n.xp6(1),n.hij(" ",i[t.field]," ")}}function Je(o,e){if(1&o&&(n.TgZ(0,"tr",4),n.YNc(1,Ye,2,1,"td",3),n.qZA()),2&o){const t=e.$implicit,i=n.oxw();n.Q6J("pSelectableRow",t),n.xp6(1),n.Q6J("ngForOf",i.cols)}}class R{constructor(){this.list=[],this.key="",this.selection=new n.vpe,this.selected="",this.cols=[]}ngOnInit(){this.cols=Object.keys(this.list[0]).map(e=>({field:e,header:e}))}handleChange(){this.selection.emit(this.selected[this.key])}}R.\u0275fac=function(e){return new(e||R)},R.\u0275cmp=n.Xpm({type:R,selectors:[["app-table"]],inputs:{list:"list",key:"key"},outputs:{selection:"selection"},decls:3,vars:3,consts:[["selectionMode","single",3,"value","selection","dataKey","selectionChange","onRowSelect"],["pTemplate","header"],["pTemplate","body"],[4,"ngFor","ngForOf"],[3,"pSelectableRow"]],template:function(e,t){1&e&&(n.TgZ(0,"p-table",0),n.NdJ("selectionChange",function(s){return t.selected=s})("onRowSelect",function(){return t.handleChange()}),n.YNc(1,Ue,2,1,"ng-template",1),n.YNc(2,Je,2,2,"ng-template",2),n.qZA()),2&e&&n.Q6J("value",t.list)("selection",t.selected)("dataKey",t.key)},dependencies:[w.sg,Ie.jx,It.iA,It.Ei]});var pt=u(5593);function $e(o,e){if(1&o){const t=n.EpF();n.TgZ(0,"div",5)(1,"app-table",6),n.NdJ("selection",function(s){n.CHM(t);const r=n.oxw();return r.handleSelection(s),n.KtG(r.openDialog("editar",r.selection))}),n.qZA()()}if(2&o){const t=n.oxw();n.xp6(1),n.Q6J("list",t.list)}}class J{constructor(e,t){this.service=e,this.modalService=t,this.collection="categorias",this.selection="",this.originData=[],this.list=[],this.getCategories()}getCategories(){return this.service.getApi(this.collection).subscribe(e=>{this.originData=e.categorias,this.list=e.categorias.map(t=>({...t,usuario:t.usuario.nombre}))})}handleSelection(e){this.selection=e,console.log(this.selection)}reload(){this.getCategories()}openDialog(e,t){let i;""!==t&&(i=this.originData.find(r=>r._id===this.selection),console.log("en productos",i)),this.bsModalRef=this.modalService.show(Y,{initialState:{title:e,data:i}}),this.bsModalRef.content.closeBtnName="Close",this.bsModalRef.onHide.asObservable().subscribe({next:()=>{this.reload(),this.bsModalRef?.onHide.unsubscribe()}})}}J.\u0275fac=function(e){return new(e||J)(n.Y36(y),n.Y36(U))},J.\u0275cmp=n.Xpm({type:J,selectors:[["app-categories"]],decls:6,vars:1,consts:[[1,"addon-Table"],[1,"table-title"],[1,"button-container"],["type","button","icon","pi pi-plus","styleClass","p-button-success",3,"click"],["class","mt-10",4,"ngIf"],[1,"mt-10"],["key","_id",3,"list","selection"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"p",1),n._uU(2,"Categorias"),n.qZA(),n.TgZ(3,"div",2)(4,"p-button",3),n.NdJ("click",function(){return t.openDialog("crear")}),n.qZA()()(),n.YNc(5,$e,2,1,"div",4)),2&e&&(n.xp6(5),n.Q6J("ngIf",t.list.length>0))},dependencies:[w.O5,R,pt.zx]});var je=u(5702);function Ve(o,e){if(1&o){const t=n.EpF();n.TgZ(0,"button",12),n.NdJ("click",function(){n.CHM(t);const s=n.oxw();return n.KtG(s.handleDelete())}),n._uU(1,"Eliminar"),n.qZA()}}class ${constructor(e,t,i){this.bsModalRef=e,this.fb=t,this.service=i,this.categoriesList=[],this.collection="productos"}ngOnInit(){this.getCategories(),this.initForm(),this.loadData()}loadData(){if("editar"===this.title){const{categoria:e,...t}=this.data;this.formComponent.patchValue({nombre:t.nombre,categoria:{name:e.nombre,code:e._id}})}}getCategories(){this.service.getApi("categorias").subscribe(e=>{this.categoriesList=e.categorias.map(t=>({name:t.nombre,code:t._id})),console.log(this.categoriesList)})}initForm(){this.formComponent=this.fb.group({nombre:this.fb.control(null),categoria:this.fb.control(null)})}handlePost(e){this.service.postApi(this.collection,e).subscribe({next:t=>{console.log("caso exitoso",t),this.bsModalRef.hide()},error:t=>{console.log("algo fallo",t)}})}handlePut(e){this.service.putApi(this.collection,this.data._id,e).subscribe({next:t=>{console.log("caso exitoso",t),this.bsModalRef.hide()},error:t=>{console.log("caso fallido",t)}})}handleDelete(){this.service.deleteApi(this.collection,this.data._id).subscribe({next:e=>{console.log("caso exitoso",e),this.bsModalRef.hide()},error:e=>{console.log("caso fallido",e)}})}sendForm(){console.log(this.formComponent.getRawValue());const e={...this.formComponent.getRawValue(),categoria:this.formComponent.getRawValue().categoria.code};console.log(e),this.data?this.handlePut(e):this.handlePost(e)}}function We(o,e){if(1&o){const t=n.EpF();n.TgZ(0,"div",5)(1,"app-table",6),n.NdJ("selection",function(s){n.CHM(t);const r=n.oxw();return r.handleSelection(s),n.KtG(r.openDialog("editar",r.selection))}),n.qZA()()}if(2&o){const t=n.oxw();n.xp6(1),n.Q6J("list",t.list)}}$.\u0275fac=function(e){return new(e||$)(n.Y36(H),n.Y36(m.qu),n.Y36(y))},$.\u0275cmp=n.Xpm({type:$,selectors:[["app-modal-products"]],decls:16,vars:7,consts:[[2,"background-color","var(--surface-a)","color","var(--text-color)"],[1,"modal-header",2,"border-bottom","none"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",2,"color","aliceblue !important",3,"click"],["aria-hidden","true",1,"visually-hidden",2,"color","aliceblue !important"],[1,"modal-body"],[2,"display","flex","flex-direction","column","gap","15px",3,"formGroup"],["type","text","formControlName","nombre","pInputText","","placeholder","nombre"],["formControlName","categoria","optionLabel","name",3,"options"],[1,"modal-footer",2,"border-top","none"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),n._uU(3),n.ALo(4,"titlecase"),n.qZA(),n.TgZ(5,"button",3),n.NdJ("click",function(){return t.bsModalRef.hide()}),n.TgZ(6,"span",4),n._uU(7,"\xd7"),n.qZA()()(),n.TgZ(8,"div",5)(9,"form",6),n._UZ(10,"input",7)(11,"p-dropdown",8),n.qZA()(),n.TgZ(12,"div",9),n.YNc(13,Ve,2,0,"button",10),n.TgZ(14,"button",11),n.NdJ("click",function(){return t.sendForm()}),n._uU(15),n.qZA()()()),2&e&&(n.xp6(3),n.Oqu(n.lcZ(4,5,t.title)),n.xp6(6),n.Q6J("formGroup",t.formComponent),n.xp6(2),n.Q6J("options",t.categoriesList),n.xp6(2),n.Q6J("ngIf","editar"===t.title),n.xp6(2),n.Oqu("editar"===t.title?"Actualizar":"Crear"))},dependencies:[w.O5,ut.o,je.Lt,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,w.rS]});class j{constructor(e,t){this.service=e,this.modalService=t,this.collection="productos",this.originData=[],this.selection="",this.list=[],this.getProducts()}handleSelection(e){this.selection=e}getProducts(){return this.service.getApi(this.collection).subscribe(e=>{this.originData=e.productos,this.list=e.productos.map(t=>({...t,categoria:t.categoria.nombre,usuario:t.usuario.nombre}))})}reload(){this.getProducts()}openDialog(e,t){let i;""!==t&&(i=this.originData.find(r=>r._id===this.selection),console.log("en productos",i)),this.bsModalRef=this.modalService.show($,{initialState:{title:e,data:i}}),this.bsModalRef.content.closeBtnName="Close",this.bsModalRef.onHide.asObservable().subscribe({next:()=>{this.reload(),this.bsModalRef?.onHide.unsubscribe()}})}}j.\u0275fac=function(e){return new(e||j)(n.Y36(y),n.Y36(U))},j.\u0275cmp=n.Xpm({type:j,selectors:[["app-products"]],decls:6,vars:1,consts:[[1,"addon-Table"],[1,"table-title"],[1,"button-container"],["type","button","icon","pi pi-plus","styleClass","p-button-success",3,"click"],["class","mt-10",4,"ngIf"],[1,"mt-10"],["key","_id",3,"list","selection"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"p",1),n._uU(2,"Productos"),n.qZA(),n.TgZ(3,"div",2)(4,"p-button",3),n.NdJ("click",function(){return t.openDialog("crear")}),n.qZA()()(),n.YNc(5,We,2,1,"div",4)),2&e&&(n.xp6(5),n.Q6J("ngIf",t.list.length>0))},dependencies:[w.O5,R,pt.zx]});class V{}function ze(o,e){if(1&o){const t=n.EpF();n.TgZ(0,"button",14),n.NdJ("click",function(){n.CHM(t);const s=n.oxw();return n.KtG(s.handleDelete())}),n._uU(1,"Eliminar"),n.qZA()}}V.\u0275fac=function(e){return new(e||V)},V.\u0275cmp=n.Xpm({type:V,selectors:[["app-search"]],decls:2,vars:0,template:function(e,t){1&e&&(n.TgZ(0,"p"),n._uU(1,"search works!"),n.qZA())}});class W{constructor(e,t,i){this.bsModalRef=e,this.fb=t,this.service=i,this.categoriesList=[],this.collection="usuarios"}ngOnInit(){this.initForm(),this.loadData()}initForm(){this.formComponent=this.fb.group({nombre:this.fb.control(null),correo:this.fb.control(null),password:this.fb.control(null),rol:this.fb.control(null)})}loadData(){"editar"===this.title&&this.formComponent.patchValue({nombre:this.data.nombre,correo:this.data.correo,rol:this.data.rol})}handlePost(e){this.service.postApi(this.collection,e).subscribe({next:t=>{console.log("caso exitoso",t),this.bsModalRef.hide()},error:t=>{console.log("algo fallo",t)}})}handlePut(e){this.service.putApi(this.collection,this.data.uid,e).subscribe({next:t=>{console.log("caso exitoso",t),this.bsModalRef.hide()},error:t=>{console.log("caso fallido",t)}})}handleDelete(){this.service.deleteApi(this.collection,this.data.uid).subscribe({next:e=>{console.log("caso exitoso",e),this.bsModalRef.hide()},error:e=>{console.log("caso fallido",e)}})}sendForm(){console.log(this.formComponent.getRawValue());const e={...this.formComponent.getRawValue(),password:this.formComponent.getRawValue().password?this.formComponent.getRawValue().password:this.data.password};console.log(e),this.data?this.handlePut(e):this.handlePost(e)}}function qe(o,e){if(1&o){const t=n.EpF();n.TgZ(0,"div",5)(1,"app-table",6),n.NdJ("selection",function(s){n.CHM(t);const r=n.oxw();return r.handleSelection(s),n.KtG(r.openDialog("editar",r.selection))}),n.qZA()()}if(2&o){const t=n.oxw();n.xp6(1),n.Q6J("list",t.list)}}W.\u0275fac=function(e){return new(e||W)(n.Y36(H),n.Y36(m.qu),n.Y36(y))},W.\u0275cmp=n.Xpm({type:W,selectors:[["app-modal-users"]],decls:18,vars:6,consts:[[2,"background-color","var(--surface-a)","color","var(--text-color)"],[1,"modal-header",2,"border-bottom","none"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",2,"color","aliceblue !important",3,"click"],["aria-hidden","true",1,"visually-hidden",2,"color","aliceblue !important"],[1,"modal-body"],[2,"display","flex","flex-direction","column","gap","15px",3,"formGroup"],["type","text","formControlName","nombre","pInputText","","placeholder","Nombre"],["type","text","formControlName","correo","pInputText","","placeholder","Correo"],["type","password","formControlName","password","pInputText","","placeholder","Contrase\xf1a"],["type","text","formControlName","rol","pInputText","","placeholder","Rol"],[1,"modal-footer",2,"border-top","none"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),n._uU(3),n.ALo(4,"titlecase"),n.qZA(),n.TgZ(5,"button",3),n.NdJ("click",function(){return t.bsModalRef.hide()}),n.TgZ(6,"span",4),n._uU(7,"\xd7"),n.qZA()()(),n.TgZ(8,"div",5)(9,"form",6),n._UZ(10,"input",7)(11,"input",8)(12,"input",9)(13,"input",10),n.qZA()(),n.TgZ(14,"div",11),n.YNc(15,ze,2,0,"button",12),n.TgZ(16,"button",13),n.NdJ("click",function(){return t.sendForm()}),n._uU(17),n.qZA()()()),2&e&&(n.xp6(3),n.Oqu(n.lcZ(4,4,t.title)),n.xp6(6),n.Q6J("formGroup",t.formComponent),n.xp6(6),n.Q6J("ngIf","editar"===t.title),n.xp6(2),n.Oqu("editar"===t.title?"Actualizar":"Crear"))},dependencies:[w.O5,ut.o,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,w.rS]});class z{constructor(e,t){this.service=e,this.modalService=t,this.collection="usuarios",this.selection="",this.list=[],this.getUsers()}getUsers(){return this.service.getApi(this.collection).subscribe(e=>{this.list=e.usuarios.map(t=>({...t}))})}reload(){this.getUsers()}handleSelection(e){this.selection=e,console.log(this.selection)}openDialog(e,t){let i;""!==t&&(i=this.list.find(r=>r.uid===this.selection),console.log("en productos",i)),this.bsModalRef=this.modalService.show(W,{initialState:{title:e,data:i}}),this.bsModalRef.content.closeBtnName="Close",this.bsModalRef.onHide.asObservable().subscribe({next:()=>{this.reload(),this.bsModalRef?.onHide.unsubscribe()}})}}z.\u0275fac=function(e){return new(e||z)(n.Y36(y),n.Y36(U))},z.\u0275cmp=n.Xpm({type:z,selectors:[["app-users"]],decls:6,vars:1,consts:[[1,"addon-Table"],[1,"table-title"],[1,"button-container"],["type","button","icon","pi pi-plus","styleClass","p-button-success",3,"click"],["class","mt-10",4,"ngIf"],[1,"mt-10"],["key","uid",3,"list","selection"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"p",1),n._uU(2,"Usuarios"),n.qZA(),n.TgZ(3,"div",2)(4,"p-button",3),n.NdJ("click",function(){return t.openDialog("crear")}),n.qZA()()(),n.YNc(5,qe,2,1,"div",4)),2&e&&(n.xp6(5),n.Q6J("ngIf",t.list.length>0))},dependencies:[w.O5,R,pt.zx]});class q{}q.\u0275fac=function(e){return new(e||q)},q.\u0275cmp=n.Xpm({type:q,selectors:[["app-home"]],decls:2,vars:0,template:function(e,t){1&e&&(n.TgZ(0,"h1"),n._uU(1,"Home"),n.qZA())}});var Zt=u(1327);class G{constructor(){this.items=[{label:"Prueba tecnica",items:[{label:"Usuarios",icon:"pi pi-fw pi-plus",routerLink:"users"},{label:"Productos",icon:"pi pi-fw pi-download",routerLink:"products"},{label:"Categorias",icon:"pi pi-fw pi-refresh",routerLink:"categories"},{label:"Buscar",icon:"pi pi-fw pi-refresh",routerLink:"search"}]}]}}G.\u0275fac=function(e){return new(e||G)},G.\u0275cmp=n.Xpm({type:G,selectors:[["app-side-bar"]],decls:1,vars:1,consts:[["styleClass","sidebar",3,"model"]],template:function(e,t){1&e&&n._UZ(0,"p-menu",0),2&e&&n.Q6J("model",t.items)},dependencies:[Zt.v2]});class Q{}Q.\u0275fac=function(e){return new(e||Q)},Q.\u0275cmp=n.Xpm({type:Q,selectors:[["app-dashboard"]],decls:4,vars:0,consts:[[1,"container-home"],[1,"side"],[1,"panel"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n._UZ(1,"app-side-bar",1),n.TgZ(2,"div",2),n._UZ(3,"router-outlet"),n.qZA()())},dependencies:[it.lC,G],styles:[".container-home[_ngcontent-%COMP%]{display:flex;grid-template-columns:1fr 3fr;height:98vh}.side[_ngcontent-%COMP%]{width:15%}.panel[_ngcontent-%COMP%]{width:85%;padding:20px}"]});const Ge=[{path:"",component:Q,children:[{path:"home",component:q},{path:"categories",component:J},{path:"products",component:j},{path:"search",component:V},{path:"users",component:z},{path:"**",redirectTo:"home"}]}];class k{}k.\u0275fac=function(e){return new(e||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[it.Bz.forChild(Ge),it.Bz]});var Ut=u(5844);class A{}A.\u0275fac=function(e){return new(e||A)},A.\u0275mod=n.oAB({type:A}),A.\u0275inj=n.cJS({imports:[w.ez,Zt.$9,Ut.g]});class x{}x.\u0275fac=function(e){return new(e||x)},x.\u0275mod=n.oAB({type:x}),x.\u0275inj=n.cJS({imports:[w.ez,k,A,Ut.g,m.UX,m.u5,Le.forRoot()]})}}]);